<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane styleClass="cliente-detalles-view" stylesheets="@/css/styles.css,@/css/Cliente/cliente-detalles.css" xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.farmaciavictoria.proyectopharmavictoria.controller.Cliente.ClienteDetallesController" prefWidth="700.0" prefHeight="650.0">
   <top>
      <VBox styleClass="detalles-header" BorderPane.alignment="CENTER">
         <HBox alignment="CENTER_LEFT" spacing="20.0">
            <VBox alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
               <Label styleClass="detalles-title" text="👤 DETALLES DEL CLIENTE" />
               <Label fx:id="subtituloLabel" styleClass="detalles-subtitle" text="Información completa del cliente" />
            </VBox>
            <!-- Botón de cerrar eliminado para experiencia profesional -->
         </HBox>
      </VBox>
   </top>
   <center>
      <ScrollPane fitToWidth="true" styleClass="detalles-scroll" BorderPane.alignment="CENTER">
         <content>
            <VBox styleClass="detalles-container">
               <!-- Información Básica -->
               <VBox styleClass="info-card">
                  <Label styleClass="section-title" text="📋 INFORMACIÓN BÁSICA" />
                  <Separator styleClass="section-separator" />
                  <!-- Bloque para Cliente Natural -->
                  <GridPane fx:id="naturalGrid" styleClass="info-grid">
                     <columnConstraints>
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="150.0" prefWidth="150.0" />
                        <ColumnConstraints hgrow="ALWAYS" minWidth="300.0" />
                     </columnConstraints>
                     <Label styleClass="field-label" text="DNI:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                     <Label fx:id="dniLabel" styleClass="field-value" text="-" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                     <Label styleClass="field-label" text="Nombres:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                     <Label fx:id="nombresLabel" styleClass="field-value" text="-" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                     <Label styleClass="field-label" text="Apellidos:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                     <Label fx:id="apellidosLabel" styleClass="field-value" text="-" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                     <Label styleClass="field-label" text="Estado:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                     <HBox alignment="CENTER_LEFT" GridPane.columnIndex="1" GridPane.rowIndex="3">
                        <Label fx:id="estadoLabel" styleClass="estado-activo" text="ACTIVO" />
                     </HBox>
                  </GridPane>
                  <!-- Bloque para Cliente Empresa: solo RUC, razón social y estado -->
                  <GridPane fx:id="empresaGrid" styleClass="info-grid" visible="false" managed="false">
                     <columnConstraints>
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="150.0" prefWidth="150.0" />
                        <ColumnConstraints hgrow="ALWAYS" minWidth="300.0" />
                     </columnConstraints>
                     <Label styleClass="field-label" text="RUC:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                     <Label fx:id="rucLabel" styleClass="field-value" text="-" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                     <Label styleClass="field-label" text="Razón Social:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                     <Label fx:id="razonSocialLabel" styleClass="field-value" text="-" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                     <Label styleClass="field-label" text="Estado:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                     <HBox alignment="CENTER_LEFT" GridPane.columnIndex="1" GridPane.rowIndex="2">
                        <Label fx:id="estadoEmpresaLabel" styleClass="estado-activo" text="ACTIVO" />
                     </HBox>
                  </GridPane>
               </VBox>
               <!-- Información de Contacto -->
               <VBox spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 12px; -fx-padding: 25px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 3);">
                  <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2C3E50;" text="📞 INFORMACIÓN DE CONTACTO" />
                  <Separator style="-fx-background-color: #E8E8E8;" />
                  <!-- Bloque para Cliente Empresa: Teléfono, Email, Dirección -->
                  <GridPane fx:id="empresaContactoGrid" hgap="20.0" vgap="15.0" visible="false" managed="false">
                     <columnConstraints>
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="150.0" prefWidth="150.0" />
                        <ColumnConstraints hgrow="ALWAYS" minWidth="300.0" />
                     </columnConstraints>
                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Teléfono:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                     <Label fx:id="telefonoEmpresaLabel" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Email:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                     <Label fx:id="emailEmpresaLabel" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Dirección:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                     <Label fx:id="direccionEmpresaLabel" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" wrapText="true" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                  </GridPane>
                  <!-- Bloque para Cliente Natural -->
                  <GridPane hgap="20.0" vgap="15.0" fx:id="naturalContactoGrid">
                     <columnConstraints>
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="150.0" prefWidth="150.0" />
                        <ColumnConstraints hgrow="ALWAYS" minWidth="300.0" />
                     </columnConstraints>
                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Teléfono:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                     <Label fx:id="telefonoLabel" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Email:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                     <Label fx:id="emailLabel" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Dirección:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                     <Label fx:id="direccionLabel" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" wrapText="true" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                  </GridPane>
               </VBox>
               <!-- Información Adicional -->
               <VBox styleClass="info-card">
                  <Label styleClass="section-title" text="� INFORMACIÓN ADICIONAL" />
                  <Separator styleClass="section-separator" />
                  <!-- Bloque para Cliente Empresa: Puntos, Frecuente, Fecha Registro -->
                  <GridPane fx:id="empresaAdicionalGrid" styleClass="info-grid" visible="false" managed="false">
                     <columnConstraints>
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="150.0" prefWidth="150.0" />
                        <ColumnConstraints hgrow="ALWAYS" minWidth="300.0" />
                     </columnConstraints>
                     <Label styleClass="field-label" text="Puntos Totales:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                     <Label fx:id="puntosEmpresaLabel" styleClass="field-value" text="-" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                     <Label styleClass="field-label" text="Frecuente:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                     <Label fx:id="frecuenteEmpresaLabel" styleClass="field-value" text="-" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                     <Label styleClass="field-label" text="Fecha de Registro:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                     <Label fx:id="fechaRegistroEmpresaLabel" styleClass="field-value" text="-" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                  </GridPane>
                  <!-- Bloque para Cliente Natural -->
                  <GridPane styleClass="info-grid" fx:id="naturalAdicionalGrid">
                     <columnConstraints>
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="150.0" prefWidth="150.0" />
                        <ColumnConstraints hgrow="ALWAYS" minWidth="300.0" />
                     </columnConstraints>
                     <Label styleClass="field-label" text="Fecha de Nacimiento:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                     <Label fx:id="fechaNacimientoLabel" styleClass="field-value" text="-" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                     <Label styleClass="field-label" text="Puntos Totales:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                     <Label fx:id="puntosTotalesLabel" styleClass="field-value" text="-" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                     <Label styleClass="field-label" text="Frecuente:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                     <Label fx:id="frecuenteLabel" styleClass="field-value" text="-" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                     <Label styleClass="field-label" text="Fecha de Registro:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                     <Label fx:id="fechaRegistroLabel" styleClass="field-value" text="-" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                  </GridPane>
               </VBox>
               <!-- Historial de Cambios / Auditoría -->
               <VBox styleClass="info-card" spacing="10">
                  <Label styleClass="section-title" text="🕑 HISTORIAL DE CAMBIOS / AUDITORÍA" />
                  <Separator styleClass="section-separator" />
                  <TableView fx:id="historialTable" prefHeight="180" styleClass="historial-table">
                     <columns>
                        <TableColumn fx:id="colFecha" text="Fecha" prefWidth="120" />
                        <TableColumn fx:id="colUsuario" text="Usuario" prefWidth="100" />
                        <TableColumn fx:id="colCampo" text="Campo" prefWidth="120" />
                        <TableColumn fx:id="colAnterior" text="Anterior" prefWidth="120" />
                        <TableColumn fx:id="colNuevo" text="Nuevo" prefWidth="120" />
                     </columns>
                  </TableView>
               </VBox>
               <!-- Historial de Puntos -->
               <VBox spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 12px; -fx-padding: 25px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 3);">
                  <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2C3E50;" text="⭐ HISTORIAL DE PUNTOS" />
                  <Separator style="-fx-background-color: #E8E8E8;" />
                  <TableView fx:id="puntosTable" prefHeight="180" styleClass="puntos-table">
                     <columns>
                        <TableColumn fx:id="colPuntosFecha" text="Fecha" prefWidth="120" />
                        <TableColumn fx:id="colPuntosTipo" text="Tipo" prefWidth="100" />
                        <TableColumn fx:id="colPuntosValor" text="Puntos" prefWidth="80" />
                        <TableColumn fx:id="colPuntosDescripcion" text="Descripción" prefWidth="180" />
                     </columns>
                  </TableView>
               </VBox>
               <!-- Historial de Compras -->
               <VBox spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 12px; -fx-padding: 25px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 3);">
                  <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2C3E50;" text="🛒 HISTORIAL DE COMPRAS" />
                  <Separator style="-fx-background-color: #E8E8E8;" />
                  <TableView fx:id="comprasTable" prefHeight="180" styleClass="compras-table">
                     <columns>
                        <TableColumn fx:id="colCompraFecha" text="Fecha" prefWidth="120" />
                        <TableColumn fx:id="colCompraVentaId" text="Venta ID" prefWidth="80" />
                        <TableColumn fx:id="colCompraBoleta" text="N° Boleta" prefWidth="100" />
                        <TableColumn fx:id="colCompraTotal" text="Total" prefWidth="100" />
                        <TableColumn fx:id="colCompraEstado" text="Estado" prefWidth="90" />
                        <TableColumn fx:id="colCompraPago" text="Pago" prefWidth="90" />
                        <TableColumn fx:id="colCompraSucursal" text="Sucursal" prefWidth="120" />
                        <TableColumn fx:id="colCompraObs" text="Observaciones" prefWidth="180" />
                     </columns>
                  </TableView>
               </VBox>
            </VBox>
         </content>
      </ScrollPane>
   </center>
</BorderPane>
