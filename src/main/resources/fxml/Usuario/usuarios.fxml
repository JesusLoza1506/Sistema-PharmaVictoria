<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.chart.*?>

<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.geometry.Insets?>
<ScrollPane fitToWidth="true" fitToHeight="false" styleClass="productos-scroll"
            xmlns="http://javafx.com/javafx/11.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.farmaciavictoria.proyectopharmavictoria.controller.Usuario.UsuariosController">
    <content>
    <VBox styleClass="productos-view" stylesheets="@/css/Proveedor/proveedores.css" spacing="0">
        <children>
            <VBox spacing="0" styleClass="productos-header-box">
                <children>
                    <HBox alignment="CENTER_LEFT" spacing="20.0" styleClass="productos-header">
                        <children>
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <children>
                                    <ImageView fitHeight="32" fitWidth="32" preserveRatio="true">
                                        <image>
                                            <Image url="@/icons/user.png" />
                                        </image>
                                    </ImageView>
                                    <Label styleClass="productos-header-title" text="GESTIÓN DE USUARIOS" />
                                </children>
                            </HBox>
                            <Region HBox.hgrow="ALWAYS" />
                            <Button fx:id="btnNuevoUsuario" mnemonicParsing="false" styleClass="productos-header-btn-blue">
                                <graphic>
                                    <ImageView fitHeight="18" fitWidth="18" preserveRatio="true">
                                        <image>
                                            <Image url="@/icons/agregarusuario.png" />
                                        </image>
                                    </ImageView>
                                </graphic>
                                <text>Nuevo Usuario</text>
                            </Button>
                            <Button fx:id="btnExportar" mnemonicParsing="false" styleClass="productos-header-btn-green" onAction="#onExportar">
                                <graphic>
                                    <ImageView fitHeight="18" fitWidth="18" preserveRatio="true">
                                        <image>
                                            <Image url="@/icons/exportar.png" />
                                        </image>
                                    </ImageView>
                                </graphic>
                                <text>Exportar</text>
                            </Button>
                        </children>
                        <padding>
                            <Insets bottom="18.0" left="24.0" right="24.0" top="18.0" />
                        </padding>
                    </HBox>
                    <HBox alignment="CENTER" spacing="24.0" styleClass="filter-bar">
                        <children>
                            <Label styleClass="filter-label" text="Buscar:" />
                            <TextField fx:id="txtBuscar" promptText="Buscar por nombre, apellido, DNI..." styleClass="search-field" />
                            <Label styleClass="filter-label" text="Rol:" />
                            <ComboBox fx:id="cmbRol" promptText="Rol" styleClass="filter-combo" />
                            <!-- Eliminado filtro de sucursal -->
                            <Label styleClass="filter-label" text="Estado:" />
                            <ComboBox fx:id="cmbEstado" promptText="Estado" styleClass="filter-combo" />
                            <Region HBox.hgrow="ALWAYS" />
                            <Label fx:id="lblTotalUsuarios" styleClass="total-count" text="Total: 0 usuarios" />
                        </children>
                        <padding>
                            <Insets bottom="10.0" left="24.0" right="24.0" top="10.0" />
                        </padding>
                    </HBox>
                </children>
            </VBox>
            <VBox spacing="0" styleClass="productos-table-box" VBox.vgrow="ALWAYS">
                <children>
                    <TableView fx:id="tablaUsuarios" styleClass="productos-table" VBox.vgrow="ALWAYS">
                        <columns>
                            <!-- Columna ID eliminada para ahorrar espacio -->
                            <TableColumn fx:id="colUsername" prefWidth="120.0" text="Usuario" />
                            <TableColumn fx:id="colNombres" prefWidth="120.0" text="Nombres" />
                            <TableColumn fx:id="colApellidos" prefWidth="120.0" text="Apellidos" />
                            <TableColumn fx:id="colDni" prefWidth="100.0" text="DNI" />
                            <TableColumn fx:id="colTelefono" prefWidth="110.0" text="Teléfono" />
                            <!-- Eliminada columna sucursal -->
                            <TableColumn fx:id="colEstado" prefWidth="90.0" text="Estado" />
                            <!-- Columna Último Acceso eliminada para ahorrar espacio -->
                            <TableColumn fx:id="colAcciones" prefWidth="180.0" text="Acciones" />
                        </columns>
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                    </TableView>
                    <Region minHeight="24.0" maxHeight="32.0" VBox.vgrow="NEVER" />
                    <HBox alignment="CENTER" spacing="10.0" styleClass="pagination-bar" VBox.vgrow="NEVER">
                        <children>
                            <Region HBox.hgrow="ALWAYS" />
                            <Button fx:id="btnPaginaAnterior" text="⟨ Anterior" />
                            <Label fx:id="lblPaginaActual" text="Página 1 de 1" />
                            <Button fx:id="btnPaginaSiguiente" text="Siguiente ⟩" />
                            <Label text="Mostrar:" styleClass="pagination-label" />
                            <ComboBox fx:id="cmbTamanoPagina" prefWidth="80.0" styleClass="pagination-combo" />
                            <Label text="por página" styleClass="pagination-label" />
                            <Region HBox.hgrow="ALWAYS" />
                        </children>
                        <padding>
                            <Insets bottom="10.0" top="10.0" left="24.0" right="24.0" />
                        </padding>
                    </HBox>
                </children>
            </VBox>
        </children>
    </VBox>
    </content>
</ScrollPane>
