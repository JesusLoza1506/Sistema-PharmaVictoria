<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane styleClass="producto-detalles-view" stylesheets="@/css/styles.css,@/css/Inventario/producto-detalles.css" xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.farmaciavictoria.proyectopharmavictoria.controller.Inventario.ProductoDetallesController">
   <top>
      <!-- Header -->
      <VBox styleClass="detalles-header" BorderPane.alignment="CENTER">
         <HBox alignment="CENTER_LEFT" spacing="20.0">
            <VBox alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
               <Label styleClass="detalles-title" text="📦 DETALLES DEL PRODUCTO" />
               <Label styleClass="detalles-subtitle" text="Información completa del producto" />
            </VBox>
         </HBox>
      </VBox>
   </top>
   <center>
      <ScrollPane fitToWidth="true" styleClass="detalles-scroll" BorderPane.alignment="CENTER">
         <content>
            <VBox styleClass="detalles-container">
               
               <!-- Información Básica -->
               <VBox styleClass="info-card">
                  <Label styleClass="section-title" text="📋 INFORMACIÓN BÁSICA" />
                  <Separator styleClass="section-separator" />
                  
                  <GridPane styleClass="info-grid">
                     <columnConstraints>
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="150.0" prefWidth="150.0" />
                        <ColumnConstraints hgrow="ALWAYS" minWidth="300.0" />
                     </columnConstraints>
                     
                     <Label styleClass="field-label" text="Código:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                     <Label fx:id="txtCodigo" styleClass="field-value" text="-" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                     
                     <Label styleClass="field-label" text="Nombre:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                     <Label fx:id="txtNombre" styleClass="field-value" text="-" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                     
                     <Label styleClass="field-label" text="Descripción:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                     <Label fx:id="txtDescripcion" styleClass="field-value" text="-" wrapText="true" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                     
                     <Label styleClass="field-label" text="Estado:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                     <HBox alignment="CENTER_LEFT" GridPane.columnIndex="1" GridPane.rowIndex="3">
                        <Label fx:id="txtEstado" styleClass="estado-activo" text="ACTIVO" />
                     </HBox>
                  </GridPane>
               </VBox>
               
               <!-- Información Farmacéutica -->
               <VBox spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 12px; -fx-padding: 25px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 3);">
                  <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2C3E50;" text="💊 INFORMACIÓN FARMACÉUTICA" />
                  <Separator style="-fx-background-color: #E8E8E8;" />
                  
                  <GridPane hgap="20.0" vgap="15.0">
                     <columnConstraints>
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="150.0" prefWidth="150.0" />
                        <ColumnConstraints hgrow="ALWAYS" minWidth="300.0" />
                     </columnConstraints>
                     
                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Principio Activo:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                     <Label fx:id="txtPrincipioActivo" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                     
                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Concentración:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                     <Label fx:id="txtConcentracion" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                     
                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Forma Farmacéutica:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                     <Label fx:id="txtFormaFarmaceutica" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                     
                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Categoría:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                     <Label fx:id="txtCategoria" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                  </GridPane>
               </VBox>
               
               <!-- Precios y Stock -->
               <VBox spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 12px; -fx-padding: 25px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 3);">
                  <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2C3E50;" text="💰 PRECIOS Y STOCK" />
                  <Separator style="-fx-background-color: #E8E8E8;" />
                  
                  <GridPane hgap="20.0" vgap="15.0">
                     <columnConstraints>
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="150.0" prefWidth="150.0" />
                        <ColumnConstraints hgrow="ALWAYS" minWidth="300.0" />
                     </columnConstraints>
                     
                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Precio Compra:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                     <Label fx:id="txtPrecioCompra" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Precio Venta:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                     <Label fx:id="txtPrecioVenta" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Margen Ganancia:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                     <Label fx:id="txtMargenGanancia" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Stock Actual:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                     <Label fx:id="txtStockActual" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" GridPane.columnIndex="1" GridPane.rowIndex="3" />

                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Stock Mínimo:" GridPane.columnIndex="0" GridPane.rowIndex="4" />
                     <Label fx:id="txtStockMinimo" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" GridPane.columnIndex="1" GridPane.rowIndex="4" />

                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Stock Máximo:" GridPane.columnIndex="0" GridPane.rowIndex="5" />
                     <Label fx:id="txtStockMaximo" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" GridPane.columnIndex="1" GridPane.rowIndex="5" />

                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Ubicación:" GridPane.columnIndex="0" GridPane.rowIndex="6" />
                     <Label fx:id="txtUbicacion" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" GridPane.columnIndex="1" GridPane.rowIndex="6" />
                  </GridPane>
               </VBox>
               
               <!-- Información de Lote -->
               <VBox styleClass="info-card">
                  <Label styleClass="section-title" text="📅 INFORMACIÓN DE LOTE" />
                  <Separator styleClass="section-separator" />
                  
                  <GridPane styleClass="info-grid">
                     <columnConstraints>
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="150.0" prefWidth="150.0" />
                        <ColumnConstraints hgrow="ALWAYS" minWidth="300.0" />
                     </columnConstraints>
                     
                     <Label styleClass="field-label" text="Lote:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                     <Label fx:id="txtLote" styleClass="field-value" text="-" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                     
                     <Label styleClass="field-label" text="Fecha Vencimiento:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                     <Label fx:id="txtFechaVencimiento" styleClass="field-value" text="-" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                     
                     <Label styleClass="field-label" text="Laboratorio:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                     <Label fx:id="txtLaboratorio" styleClass="field-value" text="-" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                     
                     <Label styleClass="field-label" text="Fecha Fabricación:" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                     <Label fx:id="txtFechaFabricacion" styleClass="field-value" text="-" GridPane.columnIndex="1" GridPane.rowIndex="3" />
                  </GridPane>
               </VBox>
               
               <!-- Proveedor y Control -->
               <VBox spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 12px; -fx-padding: 25px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 3);">
                  <Label style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2C3E50;" text="🏢 PROVEEDOR Y CONTROL" />
                  <Separator style="-fx-background-color: #E8E8E8;" />
                  
                  <GridPane hgap="20.0" vgap="15.0">
                     <columnConstraints>
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="150.0" prefWidth="150.0" />
                        <ColumnConstraints hgrow="ALWAYS" minWidth="300.0" />
                     </columnConstraints>
                     
                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Proveedor:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                     <Label fx:id="txtProveedor" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" wrapText="true" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                     
                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Requiere Receta:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                     <Label fx:id="txtRequiereReceta" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                     
                     <Label style="-fx-font-weight: bold; -fx-text-fill: #5D6D7E;" text="Es Controlado:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                     <Label fx:id="txtEsControlado" style="-fx-text-fill: #2C3E50; -fx-font-size: 14px;" text="-" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                  </GridPane>
               </VBox>
            <!-- Historial de Cambios -->
            <VBox spacing="10" alignment="CENTER" styleClass="historial-pane">
               <Label text="Historial de Cambios de Producto" styleClass="historial-title" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2C3E50;" />
               <TableView fx:id="tableHistorial" prefHeight="300" prefWidth="700" styleClass="historial-table">
                  <columns>
                     <TableColumn fx:id="colFecha" text="Fecha" prefWidth="120" />
                     <TableColumn fx:id="colUsuario" text="Usuario" prefWidth="120" />
                     <TableColumn fx:id="colCampo" text="Campo Modificado" prefWidth="160" />
                     <TableColumn fx:id="colAnterior" text="Valor Anterior" prefWidth="140" />
                     <TableColumn fx:id="colNuevo" text="Valor Nuevo" prefWidth="140" />
                  </columns>
               </TableView>
            </VBox>
               
            </VBox>
         </content>
      </ScrollPane>
   </center>
</BorderPane>
